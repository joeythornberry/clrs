<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <title>Canvas experiment</title>
  </head>
  <body>
    <canvas id="canvas" width="1000" height="500"></canvas>
    <script type="application/javascript">
        var context; // var can be shared across scripts
	const canvas = document.getElementById("canvas");
        if (!canvas.getContext) console.error("No canvas API");
        context = canvas.getContext("2d");

	const NODE_SIZE = 30;
	const X_MULTIPLIER = 5;
	const Y_MULTIPLIER = 5;
	const NODE_COLOR = "rgb(0 255 0)";
	const NODE_TEXT_COLOR = "rgb(0 0 0)";

	const EDGE_COLOR = "rgb(0 0 0);"
	const EDGE_WIDTH = 2;

	const FONT_SIZE = 10;
	context.font = `${FONT_SIZE}px monospace`;

	function getCenter(x,y) {
		const cx = x*X_MULTIPLIER + NODE_SIZE/2;
		const cy = y*Y_MULTIPLIER + NODE_SIZE/2;
		return { x: cx, y: cy };
	}

	function e(x1,y1,x2,y2) {
		context.strokeStyle = EDGE_COLOR;
		context.beginPath();
		const c1 = getCenter(x1,y1);
		context.moveTo(c1.x,c1.y);
		const c2 = getCenter(x2,y2);
		context.lineTo(c2.x,c2.y);
		context.lineWidth = EDGE_WIDTH;
		context.stroke();
	}

	function n(i,x,y) {
		context.fillStyle = NODE_COLOR;
		context.fillRect(x*X_MULTIPLIER,y*Y_MULTIPLIER,NODE_SIZE,NODE_SIZE);

		const c = getCenter(x,y);
		context.fillStyle = NODE_TEXT_COLOR;
		context.fillText(i, c.x - FONT_SIZE / 3, c.y + FONT_SIZE / 2, y);
	}
    </script>
    <script type="application/javascript">
            //context.fillStyle = "rgb(200 0 0)";
	    //context.fillRect(20,20,RECT_SIZE,RECT_SIZE);
    </script>
    <script type="application/javascript" src="graph.js"></script>
  </body>
</html>

